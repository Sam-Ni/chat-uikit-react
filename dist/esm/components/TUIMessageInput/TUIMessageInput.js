import{__assign as t}from"tslib";import{jsx as e,jsxs as s}from"react/jsx-runtime";import o from"react";import n from"tim-js-sdk";import{TUIMessageInputContextProvider as r}from"../../context/TUIMessageInputContext.js";import{useCreateMessageInputContext as i}from"./hooks/useCreateMessageInputContext.js";import{useMessageInputState as a}from"./hooks/useMessageInputState.js";import"../../constants.js";import{useTUIChatStateContext as u}from"../../context/TUIChatStateContext.js";import"../../context/TUIMessageContext.js";import{useComponentContext as m}from"../../context/ComponentContext.js";import"./hooks/useHandleQuoteMessage.js";import{EmptyStateIndicator as p}from"../EmptyStateIndicator/EmptyStateIndicator.js";import{InputQuoteDefalut as l}from"./InputQuoteDefalut.js";import{TUIMessageInputDefault as f}from"./TUIMessageInputDefault.js";import{InputPluginsDefalut as I}from"./InputPluginsDefalut.js";import{TUIForward as c}from"./TUIForward.js";import{Transmitter as d}from"./Transmitter.js";function g(s){var o=s.children,m=s.disabled,p=s.focus,l=s.pluginConfig,f=s.textareaRef,I=a(s),c=u("TUIMessageInput"),d=c.textareaRef,g=c.conversation,T=(null==g?void 0:g.type)===n.TYPES.CONV_SYSTEM,j=u("TUIMessageInput").TUIMessageInputConfig,x=p||(null==j?void 0:j.focus),v=i(t(t(t({},I),s),{textareaRef:f||(null==j?void 0:j.textareaRef)||d,disabled:m||(null==j?void 0:j.disabled)||T,focus:"boolean"!=typeof x||x,pluginConfig:l}));return e(r,t({value:v},{children:o}))}function T(o){var n=o.TUIMessageInput,r=o.InputPlugins,i=o.InputQuote,a=o.isTransmitter,T=o.className,j=u("TUIMessageInput").TUIMessageInputConfig,x=T||(null==j?void 0:j.className),v=a||(null==j?void 0:j.isTransmitter)||!1,M=m(),C=M.TUIMessageInput,U=M.InputPlugins,h=M.InputQuote,S=n||C||f,b=r||U||I||p,N=i||h||l;return e("div",t({className:"tui-message-input ".concat(x)},{children:s(g,t({},o,{children:[e(c,{}),e(N,{}),s("div",t({className:"tui-message-input-main"},{children:[s("div",t({className:"tui-message-input-box"},{children:[e(b,{}),e(S,{})]})),v&&e(d,{})]}))]}))}))}var j=o.memo(T);export{j as TUIMessageInput};
