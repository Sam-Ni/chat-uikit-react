import{__assign as t}from"tslib";import{jsxs as o,jsx as e}from"react/jsx-runtime";import{useState as r,useCallback as s,useEffect as n}from"react";import"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import{useTUIChatActionContext as i}from"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";import{Model as a}from"../Model/index.js";import{Icon as m}from"../Icon/Icon.js";import{IconTypes as l}from"../Icon/type.js";import{getDisplayTitle as c}from"../ConversationPreview/utils.js";import{MESSAGE_OPERATE as d}from"../../constants.js";import"./hooks/useHandleQuoteMessage.js";import{useHandleForwardMessage as p}from"./hooks/useHandleForwardMessage.js";import{TUIMessageList as f}from"../TUIMessageList/TUIMessageList.js";function u(u){var h=u.handleForward,g=r([]),x=g[0],C=g[1],j=r([]);j[0];var v=j[1],w=r("");w[0];var I=w[1],T=i().operateMessage,M=p(),U=M.message,L=M.sendForwardMessage,N=M.conversationList,b=void 0===N?[]:N;console.log("TUIForward",U),console.log("TUIMessageList",U.payload.messageList);var F=s((function(t){var o;T(((o={})[d.FORWARD]=null,o))}),[T]);b.slice(0,2),b.slice(2);var k;return n((function(){C([]),v([]),I("")}),[U]),U&&b.length>0&&o(a,t({onClick:F},{children:[o("div",t({role:"button",tabIndex:0,className:"tui-forward",onClick:function(t){t.stopPropagation()}},{children:[o("header",t({className:"tui-forward-header"},{children:[e(m,{type:l.CANCEL,width:16,height:16,onClick:F}),e("h2",t({className:"tui-forward-title"},{children:"Forward To"}))]})),e("main",t({className:"tui-forward-main"},{children:e(f,{messageList:U.payload.messageList})})),o("footer",t({className:"tui-forward-footer"},{children:[e("div",t({className:"tui-forward-footer-name"},{children:x.length>0&&(k=x,(null==k?void 0:k.map((function(t){return c(t)}))).toString())})),e("button",t({type:"button",className:"button",onClick:function(){var t;t=x,h?h({list:x,message:U}):L(x),F(t)},disabled:0===x.length},{children:"Forward"}))]}))]})),e("div",{children:"Test"})]}))}export{u as TUIForward};
