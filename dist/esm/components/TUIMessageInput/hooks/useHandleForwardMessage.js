import{__awaiter as t,__generator as e}from"tslib";import{useState as o,useEffect as n}from"react";import r from"tim-js-sdk";import{MESSAGE_OPERATE as s}from"../../../constants.js";import{useTUIKitContext as i}from"../../../context/TUIKitContext.js";import{useTUIChatStateContext as a}from"../../../context/TUIChatStateContext.js";import{useTUIChatActionContext as c}from"../../../context/TUIChatActionContext.js";import"../../../context/TUIMessageContext.js";import"react/jsx-runtime";function m(m){var u=this,f=a("TUIMessageInputDefault").operateData,p=o([]),v=p[0],d=p[1],x=c(),l=x.sendMessage,C=x.createForwardMessage,g=i("TUIChat").tim,T=m||f[s.FORWARD];return n((function(){t(u,void 0,void 0,(function(){var t,o;return e(this,(function(e){switch(e.label){case 0:return[4,g.getConversationList()];case 1:return t=e.sent(),d(null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.conversationList.filter((function(t){return t.type!==r.TYPES.CONV_SYSTEM}))),[2]}}))}))}),[g]),{message:T,conversationList:v,sendForwardMessage:function(t){t.map((function(t){var e=C({conversation:t,message:T});return l(e),t}))}}}export{m as useHandleForwardMessage};
