import{__assign as e}from"tslib";import{jsx as t,jsxs as a}from"react/jsx-runtime";import i,{useState as r,useEffect as o}from"react";import n from"tim-js-sdk";import{Avatar as c}from"../Avatar/Avatar.js";import{handleDisplayAvatar as s}from"../untils.js";import{Icon as l}from"../Icon/Icon.js";import{IconTypes as m}from"../Icon/type.js";import{useTUIKitContext as d}from"../../context/TUIKitContext.js";import"../../context/TUIMessageContext.js";function h(i){var h=i.title,u=void 0===h?"":h,v=i.avatar;i.isOnline;var f=i.conversation,p=i.isLive,S=i.opateIcon,N=r(u),T=N[0],C=N[1],E=r(""),I=E[0],P=E[1];o((function(){switch(C(u),v&&P(v),null==f?void 0:f.type){case n.TYPES.CONV_C2C:O(f.userProfile);break;case n.TYPES.CONV_GROUP:Y(f.groupProfile);break;case n.TYPES.CONV_SYSTEM:C("System Notice");break;default:C("")}}),[f]);var O=function(e){T||C((null==e?void 0:e.nick)||(null==e?void 0:e.userID)),v||P(t(c,{size:32,image:s(e.avatar)}))},Y=function(e){T||C((null==e?void 0:e.name)||(null==e?void 0:e.groupID)),v||P(t(c,{size:32,image:s(e.avatar,n.TYPES.CONV_GROUP)}))},g=d().setTUIManageShow;return a("header",e({className:"tui-chat-header ".concat(p?"tui-chat-live-header":"")},{children:[t("div",e({className:"tui-chat-header-left ".concat((null==f?void 0:f.type)===n.TYPES.CONV_SYSTEM?"system":"")},{children:(null==f?void 0:f.type)!==n.TYPES.CONV_SYSTEM&&I})),t("div",e({className:"header-content"},{children:t("h3",e({className:"title"},{children:T}))})),t("div",e({className:"tui-chat-header-right"},{children:t("div",e({className:"header-handle"},{children:S||t(l,{className:"header-handle-more",onClick:function(){g(!0)},type:m.ELLIPSE,width:18,height:5})}))}))]}),null==f?void 0:f.conversationID)}var u=i.memo(h);function v(a){var i=e({},a);return t(u,e({},i))}export{v as TUIChatHeaderDefault};
