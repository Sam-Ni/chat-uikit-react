import{__assign as t}from"tslib";import{jsx as o,jsxs as e}from"react/jsx-runtime";import n,{useState as r,useRef as i}from"react";import{useTUIKitContext as s}from"../../context/TUIKitContext.js";import"../../context/TUIChatStateContext.js";import"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";import"../../context/ComponentContext.js";import"../../context/TUIMessageInputContext.js";import a from"./hooks/useConversationList.js";import{ConversationPreview as v}from"../ConversationPreview/ConversationPreview.js";import"../ConversationPreview/ConversationPreviewContent.js";import{ConversationListContainer as m}from"../ConversationPreview/ConversationListContainer.js";import{Icon as c}from"../Icon/Icon.js";import{IconTypes as C}from"../Icon/type.js";import"date-fns";import"tim-js-sdk";import{useConversationUpdate as p}from"./hooks/useConversationUpdate.js";import{useTUIConversationContext as f}from"../../context/TUIConversationContext.js";function l(n){var l=n.Preview,u=n.Container,j=void 0===u?m:u,x=n.onConversationListUpdated,d=n.filterConversation,h=s("TUIConversationList"),I=h.tim,U=h.customClasses,T=h.conversation,w=h.setActiveConversation;h.setTUIProfileShow;var P=f("TUIConversationList").filterConversation,L=d||P,g=r(0),N=g[0],k=g[1],y=a(I,(function(t,o){t.length&&w(T)}),L),A=y.conversationList,F=y.setConversationList;p(F,x,(function(){return k((function(t){return t+1}))}),L);var M=r("");M[0],M[1];var S=r(A);S[0],S[1];var b=r(!1);b[0],b[1],s().myProfile;var D=i(null);return o("div",t({className:"tui-conversation ".concat(U||""),ref:D},{children:o(j,t({setConversationList:F},{children:0===A.length?e("div",t({className:"no-result"},{children:[o(c,{className:"no-result-icon",type:C.EFFORT,width:42,height:42}),o("div",t({className:"no-result-message"},{children:"No conversation"}))]})):A.map((function(e){return o(v,t({},{activeConversation:T,conversation:e,setActiveConversation:w,Preview:l,conversationUpdateCount:N}),e.conversationID)}))}))}))}var u=n.memo(l);export{u as TUIConversationList,l as UnMemoTUIConversationList};
