import{__assign as e}from"tslib";import{jsx as o}from"react/jsx-runtime";import s from"react";import{useTUIChatStateContext as t}from"../../context/TUIChatStateContext.js";import{TUIMessageContextProvider as l}from"../../context/TUIMessageContext.js";import{useComponentContext as n}from"../../context/ComponentContext.js";import{useMessageHandler as m}from"./hooks/useMessageHandler.js";import"tim-js-sdk";import"../../constants.js";import"date-fns";import"../Icon/config.js";import"../Icon/type.js";import{TUIMessageDefault as i}from"./TUIMessageDefault.js";import{MessagePlugins as a}from"./MessagePlugins.js";import{MessageContext as r}from"./MessageContext.js";function u(s){var m=s.message,u=s.TUIMessage,d=s.MessagePlugins,g=s.MessageContext,v=s.handleDelete,c=s.CustemElement,f=s.TextElement,E=s.ImageElement,p=s.VideoElement,h=s.AudioElement,x=s.FileElement,M=s.MergerElement,w=s.LocationElement,C=s.FaceElement,j=s.className,T=s.filter,I=s.isShowTime,P=s.isShowRead,S=s.plugin,A=s.prefix,N=s.suffix,D=s.customName,F=s.showAvatar,U=s.showName,L=s.customAvatar,R=s.isShowProgress,V=s.Progress,k=n(),b=k.MessagePlugins,y=k.MessageContext,H=t("TUIMessage").messageConfig,q=u||i,z=d||b||a,B=g||y||r,G=T||(null==H?void 0:H.filter),J=m||(null==H?void 0:H.message);G&&G(J);var K={message:J,handleDelete:v||(null==H?void 0:H.handleDelete),CustemElement:c||(null==H?void 0:H.CustemElement),TextElement:f||(null==H?void 0:H.TextElement),ImageElement:E||(null==H?void 0:H.ImageElement),VideoElement:p||(null==H?void 0:H.VideoElement),AudioElement:h||(null==H?void 0:H.AudioElement),FileElement:x||(null==H?void 0:H.FileElement),MergerElement:M||(null==H?void 0:H.MergerElement),LocationElement:w||(null==H?void 0:H.LocationElement),FaceElement:C||(null==H?void 0:H.FaceElement),isShowTime:I||(null==H?void 0:H.isShowTime),isShowRead:P||(null==H?void 0:H.isShowRead),plugin:S||(null==H?void 0:H.plugin),prefix:A||(null==H?void 0:H.prefix),suffix:N||(null==H?void 0:H.suffix),customName:D||(null==H?void 0:H.customName),showAvatar:F||(null==H?void 0:H.showAvatar),showName:U||(null==H?void 0:H.showName),customAvatar:L||(null==H?void 0:H.customAvatar),isShowProgress:R||(null==H?void 0:H.isShowProgress),Progress:V||(null==H?void 0:H.Progress)};return o(l,e({value:K},{children:o(q,{message:J,MessageContext:B,MessagePlugins:z,className:j||(null==H?void 0:H.className)})}))}var d=s.memo(u);function g(s){var t=s.message,l=m({message:t}).handleDelMessage;return o(d,e({handleDelete:l},s))}export{g as TUIMessage};
