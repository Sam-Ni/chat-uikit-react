import{__assign as e}from"tslib";import{jsx as o,jsxs as t}from"react/jsx-runtime";import n,{useCallback as r}from"react";import s from"tim-js-sdk";import{MESSAGE_OPERATE as i,MESSAGE_FLOW as l}from"../../constants.js";import{useTUIChatActionContext as a}from"../../context/TUIChatActionContext.js";import"../../context/TUIMessageContext.js";function m(n){var m=n.message,c=a().operateMessage,d=r((function(){var e;c(((e={})[i.REVOKE]=m,e))}),[c]);return t("div",e({className:"bubble message-system message-revoke"},{children:[(null==m?void 0:m.flow)===l.IN&&o("span",{children:(null==m?void 0:m.nick)||(null==m?void 0:m.from)}),(null==m?void 0:m.flow)!==l.IN&&o("span",{children:"you "}),o("span",{children:" recalled a message"}),(null==m?void 0:m.flow)===l.OUT&&(null==m?void 0:m.type)===s.TYPES.MSG_TEXT&&o("span",e({className:"edit",role:"button",tabIndex:0,onClick:d},{children:" Re-edit"}))]}))}var c=n.memo(m);function d(t){return o(c,e({},t))}export{d as MessageRevoke};
