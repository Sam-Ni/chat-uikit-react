import{__assign as e}from"tslib";import{jsxs as t,Fragment as r,jsx as o}from"react/jsx-runtime";import{useState as i,useMemo as s}from"react";import{Icon as a}from"../Icon/Icon.js";import{IconTypes as n}from"../Icon/type.js";import{ConversationCreateUserSelectList as c}from"./ConversationCreateUserSelectList.js";import{ConversationCreatGroupDetail as C}from"./ConversationCreatGroupDetail.js";import{useTUIKitContext as m}from"../../context/TUIKitContext.js";import"../../context/TUIMessageContext.js";import{useConversation as E}from"../../hooks/useConversation.js";var p;function f(f){var l=f.className,v=void 0===l?"":l,T=f.setConversationCreated,u=f.conversationList,S=void 0===u?[]:u,d=i(!1),L=d[0],h=d[1],R=i(p.USER_SELECT),U=R[0],_=R[1],I=i([]),j=I[0],A=I[1],x=m().tim,P=E(x).createConversation,G=function(){if(L)switch(U){case p.USER_SELECT:h(!1);break;case p.CREATE_DETAIL:_(p.USER_SELECT),A([]);break;case p.GROUP_TYPE:_(p.CREATE_DETAIL)}else T(!1)};return s((function(){return t(r,{children:[t("div",e({className:"tui-conversation-create-header"},{children:[o(a,{onClick:G,type:n.BACK,width:9,height:16}),o("div",e({className:"title"},{children:L?"Add Participants":"New Chat"}))]})),U===p.USER_SELECT?o(c,{isCreateGroup:L,setIsCreateGroup:h,className:v,selectList:j,setSelectList:A,conversationList:S,setConversationCreated:T,setPageState:_}):o(C,{pageState:U,setPageState:_,profileList:j.map((function(e){return e.profile})),createConversation:P,setConversationCreated:T})]})}),[L,j,U])}!function(e){e.USER_SELECT="Next",e.CREATE_DETAIL="Create",e.GROUP_TYPE="GroupType"}(p||(p={}));export{f as ConversationCreate,p as PageStateTypes};
