"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),a=require("react/jsx-runtime"),t=require("react"),s=require("tim-js-sdk"),i=require("../Avatar/Avatar.js"),r=require("../untils.js"),n=require("../Icon/Icon.js"),l=require("../Icon/type.js"),u=require("../../context/TUIKitContext.js");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../context/TUIMessageContext.js");var o=c(t),d=c(s);function v(s){var c=s.title,o=void 0===c?"":c,v=s.avatar;s.isOnline;var h=s.conversation,f=s.isLive,_=s.opateIcon,j=t.useState(o),x=j[0],m=j[1],S=t.useState(""),g=S[0],p=S[1];t.useEffect((function(){switch(m(o),v&&p(v),null==h?void 0:h.type){case d.default.TYPES.CONV_C2C:I(h.userProfile);break;case d.default.TYPES.CONV_GROUP:T(h.groupProfile);break;case d.default.TYPES.CONV_SYSTEM:m("System Notice");break;default:m("")}}),[h]);var I=function(e){x||m((null==e?void 0:e.nick)||(null==e?void 0:e.userID)),v||p(a.jsx(i.Avatar,{size:32,image:r.handleDisplayAvatar(e.avatar)}))},T=function(e){x||m((null==e?void 0:e.name)||(null==e?void 0:e.groupID)),v||p(a.jsx(i.Avatar,{size:32,image:r.handleDisplayAvatar(e.avatar,d.default.TYPES.CONV_GROUP)}))},N=u.useTUIKitContext().setTUIManageShow;return a.jsxs("header",e.__assign({className:"tui-chat-header ".concat(f?"tui-chat-live-header":"")},{children:[a.jsx("div",e.__assign({className:"tui-chat-header-left ".concat((null==h?void 0:h.type)===d.default.TYPES.CONV_SYSTEM?"system":"")},{children:(null==h?void 0:h.type)!==d.default.TYPES.CONV_SYSTEM&&g})),a.jsx("div",e.__assign({className:"header-content"},{children:a.jsx("h3",e.__assign({className:"title"},{children:x}))})),a.jsx("div",e.__assign({className:"tui-chat-header-right"},{children:a.jsx("div",e.__assign({className:"header-handle"},{children:_||a.jsx(n.Icon,{className:"header-handle-more",onClick:function(){N(!0)},type:l.IconTypes.ELLIPSE,width:18,height:5})}))}))]}),null==h?void 0:h.conversationID)}var h=o.default.memo(v);exports.TUIChatHeaderDefault=function(t){var s=e.__assign({},t);return a.jsx(h,e.__assign({},s))};
