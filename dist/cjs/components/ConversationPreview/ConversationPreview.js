"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),i=require("react"),s=require("../../context/TUIKitContext.js");require("../../context/TUIMessageContext.js");var a=require("./ConversationPreviewContent.js"),n=require("./utils.js");exports.ConversationPreview=function(r){var o=r.activeConversation,u=r.conversation,l=r.Preview,v=void 0===l?a.ConversationPreviewContent:l,c=r.searchValue,g=r.conversationUpdateCount,p=s.useTUIKitContext("ConversationPreview"),C=p.setActiveConversation,y=p.myProfile,d=i.useState(n.getDisplayImage(u)),D=d[0],x=d[1],T=i.useState(n.getDisplayTitle(u,c)),m=T[0],I=T[1],j=i.useState(n.getDisplayMessage(u,y)),q=j[0],P=j[1],f=i.useState(n.getDisplayTime(u)),w=f[0],M=f[1],S=i.useState(u.unreadCount),U=S[0],_=S[1],b=(null==o?void 0:o.conversationID)===(null==u?void 0:u.conversationID);return v?(i.useEffect((function(){I(n.getDisplayTitle(u,c)),P(n.getDisplayMessage(u,y)),x(n.getDisplayImage(u)),M(n.getDisplayTime(u)),_(u.unreadCount)}),[u,c,g]),t.jsx(v,e.__assign({},r,{active:b,displayImage:D,displayTitle:m,displayMessage:q,displayTime:w,unread:U,setActiveConversation:C}))):null};
