"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),i=require("react/jsx-runtime"),n=require("react"),o=require("./EmojiPicker.js"),l=require("../Plugins/index.js"),s=require("./hooks/useUploadElement.js"),u=require("../../constants.js"),t=require("../../context/TUIMessageInputContext.js"),r=require("../Icon/Icon.js"),c=require("../Icon/type.js"),d=require("../../context/TUIChatStateContext.js");require("../../context/TUIMessageContext.js"),exports.InputPluginsDefalut=function(){var a,p,g,v,I,f,h,j=t.useTUIMessageInputContext("TUIMessageInputDefault"),E=j.sendUploadMessage,m=j.pluginConfig,x=d.useTUIChatStateContext("TUIMessageInput").TUIMessageInputConfig,M=(null==m?void 0:m.plugins)||(null===(a=null==x?void 0:x.pluginConfig)||void 0===a?void 0:a.plugins)||[],C=(null==m?void 0:m.showNumber)||(null===(p=null==x?void 0:x.pluginConfig)||void 0===p?void 0:p.showNumber)||1,P=(null==m?void 0:m.MoreIcon)||(null===(g=null==x?void 0:x.pluginConfig)||void 0===g?void 0:g.MoreIcon),_=function(e,i,n){return"boolean"==typeof e?e:"boolean"==typeof i?i:n},T=_(null==m?void 0:m.isEmojiPicker,null===(v=null==x?void 0:x.pluginConfig)||void 0===v?void 0:v.isEmojiPicker,!0),y=_(null==m?void 0:m.isImagePicker,null===(I=null==x?void 0:x.pluginConfig)||void 0===I?void 0:I.isImagePicker,!0),U=_(null==m?void 0:m.isVideoPicker,null===(f=null==x?void 0:x.pluginConfig)||void 0===f?void 0:f.isVideoPicker,!0),q=_(null==m?void 0:m.isFilePicker,null===(h=null==x?void 0:x.pluginConfig)||void 0===h?void 0:h.isFilePicker,!0),k=n.useRef(null),N=y&&s.useUploadElement({children:i.jsxs("div",e.__assign({className:"input-plugin-item"},{children:[i.jsx(r.Icon,{width:20,height:20,type:c.IconTypes.IMAGE}),i.jsx("span",{children:"Image"})]})),type:"image",accept:"image/*",onChange:function(e){k.current.closeMore(),E({file:e},u.MESSAGE_TYPE_NAME.IMAGE)}}),A=U&&s.useUploadElement({children:i.jsxs("div",e.__assign({className:"input-plugin-item"},{children:[i.jsx(r.Icon,{width:20,height:20,type:c.IconTypes.VIDEO}),i.jsx("span",{children:"Video"})]})),type:"video",accept:"video/*",onChange:function(e){k.current.closeMore(),E({file:e},u.MESSAGE_TYPE_NAME.VIDEO)}}),S=q&&s.useUploadElement({children:i.jsxs("div",e.__assign({className:"input-plugin-item"},{children:[i.jsx(r.Icon,{width:20,height:20,type:c.IconTypes.DOCUMENT}),i.jsx("span",{children:"Document"})]})),type:"file",accept:"file/*",onChange:function(e){k.current.closeMore(),E({file:e},u.MESSAGE_TYPE_NAME.FILE)}}),b=e.__spreadArray([T&&i.jsx(o.EmojiPicker,{}),N,A,S],M,!0).filter((function(e){return e}));return i.jsx(l.Plugins,{ref:k,plugins:b,showNumber:C,MoreIcon:P})};
