"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),s=require("react/jsx-runtime"),t=require("react"),r=require("tim-js-sdk");require("../../context/TUIKitContext.js"),require("../../context/TUIChatStateContext.js");var a=require("../../context/TUIChatActionContext.js");require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var n=require("../Model/index.js"),i=require("../Icon/Icon.js"),o=require("../Icon/type.js"),u=require("../ConversationPreview/utils.js"),l=require("../../constants.js");require("./hooks/useHandleQuoteMessage.js");var c=require("./hooks/useHandleForwardMessage.js"),d=require("../TUIMessageList/TUIMessageList.js");function g(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var j=g(r);exports.TUIForward=function(r){var g=r.handleForward,x=t.useState([]),h=x[0],f=x[1],v=t.useState([]);v[0];var _=v[1],m=t.useState("");m[0];var C=m[1],I=a.useTUIChatActionContext().operateMessage,p=c.useHandleForwardMessage(),q=p.message,T=p.sendForwardMessage,M=p.conversationList,w=void 0===M?[]:M;console.log("TUIForward",q),q.type===j.default.TYPES.MSG_MERGER&&console.log("TUIMessageList",q.payload.messageList);var U,b=t.useCallback((function(e){var s;I(((s={})[l.MESSAGE_OPERATE.FORWARD]=null,s))}),[I]);return w.slice(0,2),w.slice(2),t.useEffect((function(){f([]),_([]),C("")}),[q]),q&&w.length>0&&s.jsxs(n.Model,e.__assign({onClick:b},{children:[s.jsxs("div",e.__assign({role:"button",tabIndex:0,className:"tui-forward",onClick:function(e){e.stopPropagation()}},{children:[s.jsxs("header",e.__assign({className:"tui-forward-header"},{children:[s.jsx(i.Icon,{type:o.IconTypes.CANCEL,width:16,height:16,onClick:b}),s.jsx("h2",e.__assign({className:"tui-forward-title"},{children:"Forward To"}))]})),s.jsx("main",e.__assign({className:"tui-forward-main"},{children:s.jsx(d.TUIMessageList,{messageList:q.payload.messageList})})),s.jsxs("footer",e.__assign({className:"tui-forward-footer"},{children:[s.jsx("div",e.__assign({className:"tui-forward-footer-name"},{children:h.length>0&&(U=h,(null==U?void 0:U.map((function(e){return u.getDisplayTitle(e)}))).toString())})),s.jsx("button",e.__assign({type:"button",className:"button",onClick:function(){var e;e=h,g?g({list:h,message:q}):T(h),b(e)},disabled:0===h.length},{children:"Forward"}))]}))]})),s.jsx("div",{children:"Test"})]}))};
