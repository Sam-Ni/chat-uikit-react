"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),s=require("react/jsx-runtime"),t=require("react");require("../../context/TUIKitContext.js"),require("../../context/TUIChatStateContext.js");var r=require("../../context/TUIChatActionContext.js");require("../../context/TUIMessageContext.js"),require("../../context/ComponentContext.js"),require("../../context/TUIMessageInputContext.js");var a=require("../Model/index.js"),n=require("../Icon/Icon.js"),o=require("../Icon/type.js"),i=require("../ConversationPreview/utils.js"),l=require("../../constants.js");require("./hooks/useHandleQuoteMessage.js");var u=require("./hooks/useHandleForwardMessage.js"),c=require("../TUIMessageList/TUIMessageList.js");exports.TUIForward=function(d){var g=d.handleForward,x=t.useState([]),j=x[0],h=x[1],v=t.useState([]);v[0];var C=v[1],I=t.useState("");I[0];var _=I[1],f=r.useTUIChatActionContext().operateMessage,m=u.useHandleForwardMessage(),q=m.message,T=m.sendForwardMessage,p=m.conversationList,w=void 0===p?[]:p;console.log("TUIForward",q),console.log("TUIMessageList",q.payload.messageList);var M,U=t.useCallback((function(e){var s;f(((s={})[l.MESSAGE_OPERATE.FORWARD]=null,s))}),[f]);return w.slice(0,2),w.slice(2),t.useEffect((function(){h([]),C([]),_("")}),[q]),q&&w.length>0&&s.jsxs(a.Model,e.__assign({onClick:U},{children:[s.jsxs("div",e.__assign({role:"button",tabIndex:0,className:"tui-forward",onClick:function(e){e.stopPropagation()}},{children:[s.jsxs("header",e.__assign({className:"tui-forward-header"},{children:[s.jsx(n.Icon,{type:o.IconTypes.CANCEL,width:16,height:16,onClick:U}),s.jsx("h2",e.__assign({className:"tui-forward-title"},{children:"Forward To"}))]})),s.jsx("main",e.__assign({className:"tui-forward-main"},{children:s.jsx(c.TUIMessageList,{messageList:q.payload.messageList})})),s.jsxs("footer",e.__assign({className:"tui-forward-footer"},{children:[s.jsx("div",e.__assign({className:"tui-forward-footer-name"},{children:j.length>0&&(M=j,(null==M?void 0:M.map((function(e){return i.getDisplayTitle(e)}))).toString())})),s.jsx("button",e.__assign({type:"button",className:"button",onClick:function(){var e;e=j,g?g({list:j,message:q}):T(j),U(e)},disabled:0===j.length},{children:"Forward"}))]}))]})),s.jsx("div",{children:"Test"})]}))};
