"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react"),r=require("tim-js-sdk"),n=require("../../../constants.js"),s=require("../../../context/TUIKitContext.js"),a=require("../../../context/TUIChatStateContext.js"),o=require("../../../context/TUIChatActionContext.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../../context/TUIMessageContext.js"),require("react/jsx-runtime");var u=i(r);exports.useHandleForwardMessage=function(r){var i=this,c=a.useTUIChatStateContext("TUIMessageInputDefault").operateData,d=t.useState([]),f=d[0],l=d[1],v=o.useTUIChatActionContext(),x=v.sendMessage,C=v.createForwardMessage,T=s.useTUIKitContext("TUIChat").tim,g=r||c[n.MESSAGE_OPERATE.FORWARD];return t.useEffect((function(){e.__awaiter(i,void 0,void 0,(function(){var t,r;return e.__generator(this,(function(e){switch(e.label){case 0:return[4,T.getConversationList()];case 1:return t=e.sent(),l(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.conversationList.filter((function(e){return e.type!==u.default.TYPES.CONV_SYSTEM}))),[2]}}))}))}),[T]),{message:g,conversationList:f,sendForwardMessage:function(e){e.map((function(e){var t=C({conversation:e,message:g});return x(t),e}))}}};
