"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),s=require("react/jsx-runtime"),a=require("react"),t=require("tim-js-sdk"),i=require("./MessageBubble.js"),n=require("./MessageTip.js"),o=require("../../context/TUIMessageContext.js"),u=require("../../context/ComponentContext.js"),l=require("./MessageSystem.js"),r=require("./MessageRevoke.js"),g=require("./MessageName.js"),d=require("./MessageAvatar.js");function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=m(a),c=m(t);function M(a){var t=a.message,m=a.MessageContext,v=a.MessagePlugins,M=a.className,x=u.useComponentContext(),_=x.MessageContext,j=x.MessagePlugins,f=o.useTUIMessageContext("TUIMessage"),T=f.prefix,p=f.suffix,S=f.customName,P=f.showAvatar,y=void 0===P?o.messageShowType.IN:P,C=f.showName,I=void 0===C?o.messageShowType.IN:C,N=f.customAvatar,q=m||_,h=v||j;return s.jsxs("div",e.__assign({className:"message-default\n      ".concat((null==t?void 0:t.type)===c.default.TYPES.MSG_GRP_TIP||(null==t?void 0:t.isRevoked)?"tip":null==t?void 0:t.flow,"\n      ").concat(M,"\n      ")},{children:[(null==t?void 0:t.type)===c.default.TYPES.MSG_GRP_TIP&&s.jsx(n.MessageTip,{message:t}),(null==t?void 0:t.type)===c.default.TYPES.MSG_GRP_SYS_NOTICE&&s.jsx(l.MessageSystem,{message:t}),(null==t?void 0:t.isRevoked)&&s.jsx(r.MessageRevoke,{message:t}),(null==t?void 0:t.type)!==c.default.TYPES.MSG_GRP_TIP&&(null==t?void 0:t.type)!==c.default.TYPES.MSG_GRP_SYS_NOTICE&&!(null==t?void 0:t.isRevoked)&&s.jsxs("div",e.__assign({className:"".concat(null==t?void 0:t.flow),"data-message-id":null==t?void 0:t.ID},{children:[T,s.jsx(d.MessageAvatar,{message:t,CustomAvatar:N,showType:y}),s.jsxs("main",e.__assign({className:"content"},{children:[s.jsx(g.MessageName,{message:t,CustomName:S,showType:I}),s.jsx(i.MessageBubble,e.__assign({message:t,Context:q,Plugins:h},{children:s.jsx(q,{message:t})}))]})),p]}),null==t?void 0:t.ID)]}))}var x=v.default.memo(M);exports.TUIMessageDefault=function(a){return a.message,s.jsx(x,e.__assign({},a))};
