"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),s=require("react/jsx-runtime"),t=require("react"),l=require("../../context/TUIChatStateContext.js"),n=require("../../context/TUIMessageContext.js"),o=require("../../context/ComponentContext.js"),i=require("./hooks/useMessageHandler.js");require("tim-js-sdk"),require("../../constants.js"),require("date-fns"),require("../Icon/config.js"),require("../Icon/type.js");var a=require("./TUIMessageDefault.js"),r=require("./MessagePlugins.js"),u=require("./MessageContext.js");function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function g(t){var i=t.message,m=t.TUIMessage,g=t.MessagePlugins,d=t.MessageContext,v=t.handleDelete,c=t.CustemElement,x=t.TextElement,E=t.ImageElement,f=t.VideoElement,h=t.AudioElement,M=t.FileElement,C=t.MergerElement,j=t.LocationElement,q=t.FaceElement,w=t.className,T=t.filter,I=t.isShowTime,p=t.isShowRead,P=t.plugin,S=t.prefix,A=t.suffix,N=t.customName,U=t.showAvatar,D=t.showName,F=t.customAvatar,_=t.isShowProgress,b=t.Progress,y=o.useComponentContext(),L=y.MessagePlugins,R=y.MessageContext,V=l.useTUIChatStateContext("TUIMessage").messageConfig,k=m||a.TUIMessageDefault,H=g||L||r.MessagePlugins,O=d||R||u.MessageContext,z=T||(null==V?void 0:V.filter),B=i||(null==V?void 0:V.message);z&&z(B);var G={message:B,handleDelete:v||(null==V?void 0:V.handleDelete),CustemElement:c||(null==V?void 0:V.CustemElement),TextElement:x||(null==V?void 0:V.TextElement),ImageElement:E||(null==V?void 0:V.ImageElement),VideoElement:f||(null==V?void 0:V.VideoElement),AudioElement:h||(null==V?void 0:V.AudioElement),FileElement:M||(null==V?void 0:V.FileElement),MergerElement:C||(null==V?void 0:V.MergerElement),LocationElement:j||(null==V?void 0:V.LocationElement),FaceElement:q||(null==V?void 0:V.FaceElement),isShowTime:I||(null==V?void 0:V.isShowTime),isShowRead:p||(null==V?void 0:V.isShowRead),plugin:P||(null==V?void 0:V.plugin),prefix:S||(null==V?void 0:V.prefix),suffix:A||(null==V?void 0:V.suffix),customName:N||(null==V?void 0:V.customName),showAvatar:U||(null==V?void 0:V.showAvatar),showName:D||(null==V?void 0:V.showName),customAvatar:F||(null==V?void 0:V.customAvatar),isShowProgress:_||(null==V?void 0:V.isShowProgress),Progress:b||(null==V?void 0:V.Progress)};return s.jsx(n.TUIMessageContextProvider,e.__assign({value:G},{children:s.jsx(k,{message:B,MessageContext:O,MessagePlugins:H,className:w||(null==V?void 0:V.className)})}))}var d=m(t).default.memo(g);exports.TUIMessage=function(t){var l=t.message,n=i.useMessageHandler({message:l}).handleDelMessage;return s.jsx(d,e.__assign({handleDelete:n},t))};
