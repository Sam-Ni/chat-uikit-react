"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),s=require("react"),r=require("../Icon/Icon.js"),a=require("../Icon/type.js"),o=require("./ConversationCreateUserSelectList.js"),i=require("./ConversationCreatGroupDetail.js"),n=require("../../context/TUIKitContext.js");require("../../context/TUIMessageContext.js");var c,p=require("../../hooks/useConversation.js");exports.PageStateTypes=void 0,(c=exports.PageStateTypes||(exports.PageStateTypes={})).USER_SELECT="Next",c.CREATE_DETAIL="Create",c.GROUP_TYPE="GroupType",exports.ConversationCreate=function(c){var C=c.className,u=void 0===C?"":C,S=c.setConversationCreated,T=c.conversationList,E=void 0===T?[]:T,x=s.useState(!1),v=x[0],l=x[1],g=s.useState(exports.PageStateTypes.USER_SELECT),P=g[0],d=g[1],_=s.useState([]),j=_[0],y=_[1],L=n.useTUIKitContext().tim,I=p.useConversation(L).createConversation,U=function(){if(v)switch(P){case exports.PageStateTypes.USER_SELECT:l(!1);break;case exports.PageStateTypes.CREATE_DETAIL:d(exports.PageStateTypes.USER_SELECT),y([]);break;case exports.PageStateTypes.GROUP_TYPE:d(exports.PageStateTypes.CREATE_DETAIL)}else S(!1)};return s.useMemo((function(){return t.jsxs(t.Fragment,{children:[t.jsxs("div",e.__assign({className:"tui-conversation-create-header"},{children:[t.jsx(r.Icon,{onClick:U,type:a.IconTypes.BACK,width:9,height:16}),t.jsx("div",e.__assign({className:"title"},{children:v?"Add Participants":"New Chat"}))]})),P===exports.PageStateTypes.USER_SELECT?t.jsx(o.ConversationCreateUserSelectList,{isCreateGroup:v,setIsCreateGroup:l,className:u,selectList:j,setSelectList:y,conversationList:E,setConversationCreated:S,setPageState:d}):t.jsx(i.ConversationCreatGroupDetail,{pageState:P,setPageState:d,profileList:j.map((function(e){return e.profile})),createConversation:I,setConversationCreated:S})]})}),[v,j,P])};
